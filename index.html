<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weddings | Dung Anh 💕 Mạnh</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <audio id="bg-music" loop>
    <source src="image/music.mp3" type="audio/mpeg">
  </audio>

  <header class="hero">
    <div class="overlay"></div>
    <div class="content fade-in">
      <h1>Dung Anh 💕 Mạnh</h1>
      <p>30.10.2025   • TP. Vinh - Nghệ An</p>
      <a href="#rsvp" class="btn">Save the date</a>
    </div>
  </header>

  <section id="about" class="fade-section">
    <h2>Câu chuyện của chúng tôi</h2>
    <p>
      Chúng tôi gặp nhau lần đầu vào năm 20... Sau nhiều năm bên nhau,
      chúng tôi quyết định cùng nhau bước sang hành trình mới.
    </p>
  </section>

  <section id="gallery" class="fade-section">
    <h2>Khoảnh khắc của chúng tôi</h2>
    <div class="gallery">
      <img src="image/gallery1.jpg" alt="">
      <img src="image/gallery2.jpg" alt="">
      <img src="image/gallery3.jpg" alt="">
      <img src="image/gallery4.jpg" alt="">
      <img src="image/gallery5.jpg" alt="">
      <img src="image/gallery6.jpg" alt="">
    </div>
  </section>

  <!-- QR mừng cưới chung -->
  <section id="qr-section" class="fade-section">
    <h2>Mừng cưới online Dung Anh 💕 Mạnh</h2>
    <div class="qr-container single">
      <div class="qr-box">
        <img src="image/qr-wedding.jpg" alt="QR mừng cưới Dung Anh & Mạnh">
        <p class="qr-note">Quét mã để gửi lời chúc và mừng cưới đến chúng tôi 💕</p>
      </div>
    </div>
  </section>

  <section id="rsvp" class="fade-section">
    <h2>Xác nhận tham dự</h2>
    <form id="rsvp-form">
      <input type="text" id="guestName" name="name" placeholder="Họ và tên" required>
      <select id="guestStatus" name="status" required>
        <option value="">Chọn trạng thái</option>
        <option value="yes">Tôi sẽ tham dự</option>
        <option value="no">Rất tiếc, tôi không thể</option>
      </select>
      <textarea id="guestMessage" name="message" placeholder="Gửi lời chúc..." rows="3"></textarea>
      <button type="submit">Gửi</button>
    </form>
    <p id="form-msg" class="form-msg"></p>
  </section>

  <section id="map" class="fade-section">
    <h2>Quãng đường di chuyển</h2>
    <div class="map-container">
      <!-- Replace src with actual Google Maps embed link -->
      <iframe
        src="https://www.google.com/maps/d/u/0/embed?mid=1U4X1eF1U_0ZWaeH8w7Rrm0OnnlW_XMA&ehbc=2E312F"
        width="100%"
        height="350"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </section>

  <footer>
    <p>© 2025 Dung Anh 💞 Mạnh Wedding</p>
  </footer>

  <script src="script.js"></script>
  <!-- Countdown Popup -->
<div id="countdown-popup">
  <div class="popup-content">
    <h3>💞 Đếm ngược đến ngày cưới 💞</h3>
    <p id="countdown-timer">00 ngày 00 giờ 00 phút 00 giây</p>
  </div>
</div>
<!-- Hiệu ứng pháo hoa giấy mềm mại -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
<script src="script.js"></script>
<script>
window.addEventListener("load", () => {
  const canvas = document.createElement("canvas");
  canvas.id = "confetti-canvas";
  Object.assign(canvas.style, {
    position: "fixed",
    top: 0,
    left: 0,
    width: "100%",
    height: "100%",
    pointerEvents: "none",
    zIndex: 9999
  });
  document.body.appendChild(canvas);

  const myConfetti = confetti.create(canvas, { resize: true, useWorker: true });

  const duration = 6000; // 6 giây, lâu hơn một chút
  const end = Date.now() + duration;

  (function frame() {
    myConfetti({
      particleCount: 3,           // ít hạt hơn, bay nhẹ
      startVelocity: 15,          // tốc độ bắn ra thấp
      spread: 70,                 // góc bắn vừa phải
      ticks: 200,                 // tồn tại lâu hơn
      gravity: 0.3,               // rơi chậm hơn
      scalar: 1,                  // kích thước nhỏ gọn
      origin: { x: Math.random(), y: Math.random() - 0.1 },
      colors: ["#f7d9e3", "#ffd1dc", "#fff0f5", "#fce1e4", "#fde6ee"]
    });
    if (Date.now() < end) requestAnimationFrame(frame);
    else setTimeout(() => canvas.remove(), 1500);
  })();
});
</script>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-database.js"></script>

<script>
  // --- Firebase Config: Dán đoạn cấu hình của bạn vào đây ---
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  // --- Khởi tạo Firebase ---
  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // --- Gửi lời chúc ---
  const form = document.getElementById("rsvp-form");
  const list = document.getElementById("wishList");

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    const name = document.getElementById("guestName").value.trim();
    const message = document.getElementById("guestMessage").value.trim();
    if (!name || !message) return;

    db.ref("wishes").push({
      name: name,
      message: message,
      time: Date.now()
    });

    form.reset();
  });

  // --- Hiển thị realtime ---
  db.ref("wishes").on("value", (snapshot) => {
    list.innerHTML = "";
    snapshot.forEach((child) => {
      const data = child.val();
      const div = document.createElement("div");
      div.className = "wish-item";
      div.innerHTML = `<strong>${data.name}</strong><p>${data.message}</p>`;
      list.prepend(div);
    });
  });
</script>

<script src="script.js"></script>
</body>
</html>

</body>
</html>
